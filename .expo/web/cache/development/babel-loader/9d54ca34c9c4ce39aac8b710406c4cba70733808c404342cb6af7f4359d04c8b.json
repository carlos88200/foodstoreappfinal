{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"D:\\\\programas carlos\\\\xampp\\\\htdocs\\\\1.75\\\\Cafeteria-App\\\\Views\\\\Components\\\\ShoppingHistory.tsx\",\n  _this = this;\nimport { AvatarImage, Box, Text, Avatar, ScrollView, VStack, Card } from \"@gluestack-ui/themed\";\nimport { useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useFocusEffect } from '@react-navigation/native';\nimport { ApiUrl, Img } from '../API/Config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar ShoppingHistory = function ShoppingHistory() {\n  var tokenString;\n  var token;\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    productData = _useState2[0],\n    setProductData = _useState2[1];\n  useFocusEffect(useCallback(function () {\n    var fetchUserData = function () {\n      var _ref = _asyncToGenerator(function* () {\n        tokenString = yield AsyncStorage.getItem('token');\n        token = JSON.parse(tokenString);\n        var idUser;\n        var FavoriteUser = [];\n        var FavoriteEndarr = [];\n        if (token) {\n          try {\n            var response = yield axios.get(`${ApiUrl}Userauth`, {\n              headers: {\n                'Authorization': `Bearer ${token}`\n              }\n            });\n            idUser = response.data.id;\n          } catch (error) {\n            console.log(\" we cannot get the information \", error);\n          }\n        }\n        try {\n          var _response = yield axios.get(`${ApiUrl}ShoppingIndex/${idUser}`);\n          setProductData(_response.data);\n        } catch (error) {\n          console.log(\" we cannot get the information fav \", error);\n        }\n      });\n      return function fetchUserData() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    fetchUserData();\n  }, []));\n  return _jsxDEV(Box, {\n    py: \"$10\",\n    children: _jsxDEV(ScrollView, {\n      children: _jsxDEV(VStack, {\n        marginTop: \"$3px\",\n        backgroundColor: \"white\",\n        height: \"$full\",\n        width: \"$full\",\n        children: productData.map(function (shopping, index) {\n          return _jsxDEV(Card, {\n            size: \"md\",\n            variant: \"elevated\",\n            m: \"$3\",\n            children: [_jsxDEV(Avatar, {\n              size: \"md\",\n              children: _jsxDEV(AvatarImage, {\n                source: {\n                  uri: Img + shopping.food.Image\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 33\n              }, _this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 29\n            }, _this), _jsxDEV(Text, {\n              size: \"sm\",\n              children: [shopping.food.Price, \".00 $\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 29\n            }, _this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 25\n          }, _this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, _this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, _this);\n};\nexport default ShoppingHistory;","map":{"version":3,"names":["AvatarImage","Box","Text","Avatar","ScrollView","VStack","Card","useState","useCallback","axios","AsyncStorage","useFocusEffect","ApiUrl","Img","jsxDEV","_jsxDEV","ShoppingHistory","tokenString","token","_useState","_useState2","_slicedToArray","productData","setProductData","fetchUserData","_ref","_asyncToGenerator","getItem","JSON","parse","idUser","FavoriteUser","FavoriteEndarr","response","get","headers","data","id","error","console","log","apply","arguments","py","children","marginTop","backgroundColor","height","width","map","shopping","index","size","variant","m","source","uri","food","Image","fileName","_jsxFileName","lineNumber","columnNumber","_this","Price"],"sources":["D:/programas carlos/xampp/htdocs/1.75/Cafeteria-App/Views/Components/ShoppingHistory.tsx"],"sourcesContent":["import { AvatarImage, Heading, Box, Text, Button, Avatar, ScrollView, VStack, Card, ButtonText } from \"@gluestack-ui/themed\";\r\nimport { useState, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\nimport AsyncStorage from '@react-native-async-storage/async-storage'; //async\r\nimport { useFocusEffect } from '@react-navigation/native';\r\nimport { ApiUrl, Img } from '../API/Config';\r\n\r\nconst ShoppingHistory = () => {\r\n    let tokenString;\r\n    let token;\r\n    const [productData, setProductData] = useState<any[]>([]);\r\n    useFocusEffect(\r\n        useCallback(() => {\r\n            const fetchUserData = async () => {\r\n                tokenString = await AsyncStorage.getItem('token');\r\n                token = JSON.parse(tokenString);\r\n                let idUser;\r\n                let FavoriteUser = [];\r\n                let FavoriteEndarr = [];\r\n\r\n                if (token) {\r\n                    try {\r\n                        const response = await axios.get(`${ApiUrl}Userauth`, {\r\n                            headers: {\r\n                                'Authorization': `Bearer ${token}`\r\n                            }\r\n                        });\r\n                        //setUserData(response.data);\r\n                        idUser = response.data.id;\r\n                    } catch (error) {\r\n                        console.log(\" we cannot get the information \", error);\r\n                    }\r\n                }\r\n\r\n                try {\r\n                    const response = await axios.get(`${ApiUrl}ShoppingIndex/${idUser}`);\r\n                    setProductData(response.data);\r\n                } catch (error) {\r\n                    console.log(\" we cannot get the information fav \", error);\r\n                }\r\n            };\r\n\r\n            fetchUserData();\r\n        }, [])\r\n    );\r\n\r\n    return (\r\n        <Box py=\"$10\">\r\n            <ScrollView>\r\n                <VStack marginTop={\"$3px\"} backgroundColor='white' height={\"$full\"} width={\"$full\"} >\r\n                    {productData.map((shopping, index) => (\r\n                        <Card key={index} size=\"md\" variant=\"elevated\" m=\"$3\">\r\n\r\n                            <Avatar size=\"md\">\r\n                                <AvatarImage source={{ uri: Img+ shopping.food.Image}} />\r\n                            </Avatar>\r\n                            <Text size=\"sm\">\r\n                                {shopping.food.Price}.00 $\r\n                            </Text>\r\n\r\n                        </Card>\r\n                    ))}\r\n                </VStack>\r\n            </ScrollView>\r\n        </Box>\r\n    );\r\n\r\n}\r\nexport default ShoppingHistory;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}